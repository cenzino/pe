{% extends "proiezioni/base.html" %}
{% load eletags %}

{% block title %}Proiezioni Candidati{% endblock %}
{% block custum_style %}
<style>
.thumbnail .caption {
    padding: 2px;
    color: #333;
}

.thumbnail .caption h1,
.thumbnail .caption .h1,
.thumbnail .caption h2,
.thumbnail .caption .h2,
.thumbnail .caption h3,
.thumbnail .caption .h3 {
    margin-top: 20px;
    margin-bottom: 10px;
}

.thumbnail .caption h1,
.thumbnail .caption h2 {
    margin-top: 2px;
    margin-bottom: 1px;
    font-weight: 700;
}

.thumbnail .caption p {
    margin: 0px;
}

</style>
{% endblock %}

{% block content %}
    <h1>Candidati</h1>
    <div class="row">
        {% for candidato in candidati %}
            <div class="col-sm-6 col-md-2">
                <div class="thumbnail">
                    <img src="{{ MEDIA_URL }}{{ candidato.foto|default:"images/default.gif" }}" alt="..." class="img-responsive">

                    <div class="caption text-center"style="background-color: #111; color: #fff; ">
                        <span class="h4">{{ candidato.cognome|upper }}</span>
                    </div>
                    <div class="caption text-center" style="background-color: gold">
                        {% with voti_totali_candidato=candidato.voti_totali voti_totali_elezione=elezione.voti_totali_candidati %}
                            {% with perc=voti_totali_candidato|percentage:voti_totali_elezione %}
                            <h1 class="" style="">{{ perc }}<small>%</small></h1>
                            {% with forbice=candidato.get_forbice %}
                            <p class="" style="font-size: 85%">
                                {{ forbice|forbice_inf_of:perc }}<small class="text-muted">%</small> â€“
                                {{ forbice|forbice_sup_of:perc }}<small class="text-muted">%</small>
                            </p>
                            {% endwith %}
                            {% endwith %}
                        {% endwith %}
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}